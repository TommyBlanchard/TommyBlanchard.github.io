<!DOCTYPE html>
<html lang="en">
<head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <meta charset="utf-8" />
        <title>Tommy Blanchard - Pelican</title>
        <link rel="stylesheet" href="http://tommyblanchard.com/theme/css/main.css" />
        <link href="http://tommyblanchard.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tommy Blanchard Atom Feed" />
    
        <!-- favicon -->
        <link rel="shortcut icon" type="image/png" href="http://tommyblanchard.com/theme/images/icons/favicon.png">
        <link rel="shortcut icon" type="image/x-icon" href="http://tommyblanchard.com/favicon.ico">

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    
            <meta name="twitter:card" content="summary">
            <meta name="og:url" content="http://tommyblanchard.com">
            <meta name="og:title" content="Tommy Blanchard">
            <meta name="og:description" content="The personal website of Tommy Blanchard, data scientist">
            <meta name="description" content="The personal website of Tommy Blanchard, data scientist">
            <meta name="og:image" content="http://tommyblanchard.com/images/tommy.jpg">            
            <meta name="twitter:image:src" content="http://tommyblanchard.com/images/tommy.jpg">
            <meta name="twitter:creator" content="@TommyCBlanchard">


</head>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script> (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-5326445705698158",
            enable_page_level_ads: true
        });
</script>

<body id="index" class="home">
<section id="wrapper">

        <header id="banner" class="body">
                <h1><a href="http://tommyblanchard.com/">Tommy Blanchard </a></h1>
            <!-- THIS IS THE NAV BAR AT THE TOP -->
                <nav><ul>
                    
    
                            <li><a href="http://tommyblanchard.com/">About</a></li>
    
                            <li><a href="http://tommyblanchard.com/press">Press</a></li>
    
                            <li><a href="http://tommyblanchard.com/publications">Publications</a></li>
                    <li><a href="http://tommyblanchard.com/category/blog">Blog</a></li>
                    <li><a href="http://tommyblanchard.com/category/projects">Projects</a></li>
                </ul>
                </nav>
            <!-- END NAV BAR -->
            
        </header><!-- /#banner -->
        <section id="block-wrapper">
            <section id="rightwrapper">
            <div id="tagcloud">
                    <b><center>Projects Tags</center></b>
                <ul class="tagcloud">
                        <li class="tag-1">
                            <a href="http://tommyblanchard.com/tag/python">
                            Python
                                    <span class="badge">(5)</span>
                            </a>
                        </li>
                        <li class="tag-1">
                            <a href="http://tommyblanchard.com/tag/bokeh">
                            Bokeh
                                    <span class="badge">(3)</span>
                            </a>
                        </li>
                        <li class="tag-1">
                            <a href="http://tommyblanchard.com/tag/data-exploration">
                            Data exploration
                                    <span class="badge">(3)</span>
                            </a>
                        </li>
                        <li class="tag-2">
                            <a href="http://tommyblanchard.com/tag/pelican">
                            Pelican
                                    <span class="badge">(2)</span>
                            </a>
                        </li>
                        <li class="tag-2">
                            <a href="http://tommyblanchard.com/tag/data-visualization">
                            Data visualization
                                    <span class="badge">(2)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/static-site-generators">
                            Static site generators
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/css">
                            CSS
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/flask">
                            Flask
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/politics">
                            Politics
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/heroku">
                            Heroku
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/requests">
                            Requests
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/movies">
                            Movies
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/jinga2">
                            Jinga2
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        <li class="tag-4">
                            <a href="http://tommyblanchard.com/tag/terrorism">
                            Terrorism
                                    <span class="badge">(1)</span>
                            </a>
                        </li>
                        
            </ul> 
</div>
    <br><br>
    <!-- Responsive unit -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-5326445705698158"
         data-ad-slot="1815589956"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <br><br>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Lower responsive unit -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5326445705698158"
     data-ad-slot="7678214742"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</section>
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://tommyblanchard.com/unique-tag-cloud-for-each-category-in-pelican">Unique Tag Cloud for Each Category in Pelican</a></h1>
<footer class="post-info">
        <span>Wed 15 February 2017</span>
<span>| tags: <a href="http://tommyblanchard.com/tag/pelican">Pelican</a>, <a href="http://tommyblanchard.com/tag/python">Python</a>, <a href="http://tommyblanchard.com/tag/jinga2">Jinga2</a>, <a href="http://tommyblanchard.com/tag/css">CSS</a></span>
</footer><!-- /.post-info --><p><a href="http://docs.getpelican.com/en/stable/">Pelican</a> allows you to put articles into different 'categories'. On this site, I have the <a href="http://tommyblanchard.com/category/blog">Blog</a> and <a href="http://tommyblanchard.com/category/projects">Projects</a> categories. I wanted 'Projects' to be able to function as a portfolio. Ideally, it would have a tag cloud to allow someone to see all the different tools I've used for different projects, and easily find projects that involved the tools they're interested in.</p>
<p>By default, Pelican does not have a tag cloud. In recent versions, <a href="http://docs.getpelican.com/en/stable/faq.html#my-tag-cloud-is-missing-broken-since-i-upgraded-pelican">they've taken the tag cloud functionality out of the main program</a> and put it into <a href="https://github.com/getpelican/pelican-plugins/tree/master/tag_cloud">a plugin</a>. However, the plugin counts all tags across all articles, meaning my 'Blog' tags would be mixed in with the 'Projects' tags. I ended up needing to modify the plugin to get the functionality I wanted. Instructions in case you want to do the same thing are below.</p>
<h1>Set up</h1>
<p>Since I modified the base tag_cloud plugin, the set up is very similar to that described on the official <a href="https://github.com/getpelican/pelican-plugins/tree/master/tag_cloud">tag cloud plugin page</a>. First, <strong>pelicanconf.py</strong> needs to be modified to look for the tag cloud plugin. If this is your first plugin, you should simply add these lines:</p>
<div class="highlight"><pre><span></span>PLUGIN_PATHS = [&quot;plugins&quot;]
PLUGINS = [&quot;tag_cloud&quot;]
</pre></div>


<p>Otherwise, just add "tag_cloud" to your current PLUGINS list.</p>
<p>Next, you'll need the tag_cloud.py file, and need to place it in your plugins folder. You can download my version of tag_cloud.py from the <a href="https://github.com/TommyBlanchard/pelican-plugins/tree/master/tag_cloud">github repo</a>.</p>
<p>The basic change from the original script is that instead of having a tag_cloud structure with just a list of the tags, tag_cloud is a dictionary with each key being a category and each value being a tag list. The hard part is that Pelican doesn't allow you to use dictionaries in its templates - it converts everything to a list. For clarity, I change the dictionary to a list before passing it to the generator. In the templates I use Jinga2 to loop through all of the entries and find the matching category, like an inefficient dictionary, as explained below.</p>
<h1>Displaying the tag cloud</h1>
<p>To display the tag clouds is a little more complicated than with the basic plugin. You probably don't want to tag clouds showing up on every page - I only wanted them on the category pages themselves, article pages, and tags pages.</p>
<p>The different themes all have similar structures, but some might be a bit different. I use the <a href="https://github.com/blueicefield/pelican-blueidea">blueidea theme</a>.</p>
<p>To have the tag list for a category appear on article pages, the following code should be added <strong>article.html</strong>:</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;tagcloud&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">cat</span> <span class="k">in</span> <span class="nv">tag_cloud</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">article.category</span> <span class="o">==</span> <span class="nv">cat.0</span> <span class="cp">%}</span>
                <span class="nt">&lt;b&gt;&lt;center&gt;</span><span class="cp">{{</span> <span class="nv">cat.0</span> <span class="cp">}}</span> Tags<span class="nt">&lt;/center&gt;&lt;/b&gt;</span>
                <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;tagcloud&quot;</span><span class="nt">&gt;</span>
                    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">cat.1</span> <span class="cp">%}</span>
                        <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;tag-</span><span class="cp">{{</span> <span class="nv">tag.1</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">SITEURL</span> <span class="cp">}}</span><span class="s">/</span><span class="cp">{{</span> <span class="nv">tag.0.url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
                                <span class="cp">{{</span> <span class="nv">tag.0</span> <span class="cp">}}</span>
                                <span class="cp">{%</span> <span class="k">if</span> <span class="nv">TAG_CLOUD_BADGE</span> <span class="cp">%}</span>
                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;badge&quot;</span><span class="nt">&gt;</span>(<span class="cp">{{</span> <span class="nv">tag.2</span> <span class="cp">}}</span>)<span class="nt">&lt;/span&gt;</span>
                                <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
                            <span class="nt">&lt;/a&gt;</span>
                        <span class="nt">&lt;/li&gt;</span>
                    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>                        
            <span class="nt">&lt;/ul&gt;</span> 
         <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
     <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>


<p>The placement of the code depends a bit on how you plan to style it and where you want it to show up. I have mine near the top, right below <strong>{% block content %}</strong></p>
<p>To add the tag cloud to the tags and categories pages, the same code needs to be added to index.html. Place it within the first item conditional, right after this:</p>
<div class="highlight"><pre><span></span><span class="c">{# First item #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.first</span> <span class="k">and</span> <span class="k">not</span> <span class="nv">articles_page.has_previous</span><span class="o">()</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>


<p>This will take the category of the first article appearing on the page and generate the appropriate category tag cloud.</p>
<h1>Settings and CSS Styling</h1>
<p>The tag cloud should now display, just not necessarily how you want or where you want.</p>
<p>The plugin allows you to have different sizes for tags based on how common they are. This can be altered by changing the TAG_CLOUD_STEPS value (default is 4, you can set TAG_CLOUD_STEPS=num in <strong>pelicanconf.py</strong>). So use the following, adding as many li.tag-# as you have TAG_CLOUD_STEPS. You can also style the tag cloud list any way you want:</p>
<div class="highlight"><pre><span></span><span class="nt">ul</span><span class="nc">.tagcloud</span> <span class="p">{</span>
  <span class="nb">list-style</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nb">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">ul</span><span class="nc">.tagcloud</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="nb">display</span><span class="o">:</span> <span class="nb">inline</span><span class="o">-</span><span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">li</span><span class="nc">.tag-1</span> <span class="p">{</span>
    <span class="nb">font-size</span><span class="o">:</span> <span class="m">150%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">li</span><span class="nc">.tag-2</span> <span class="p">{</span>
    <span class="nb">font-size</span><span class="o">:</span> <span class="m">120%</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>You can also use CSS to style the div the tag appears in. Here is mine:</p>
<div class="highlight"><pre><span></span><span class="nt">div</span><span class="nn">#tagcloud</span><span class="p">{</span>   
    <span class="nb">right</span><span class="o">:</span> <span class="m">-150px</span><span class="p">;</span>
    <span class="nb">top</span><span class="o">:</span> <span class="m">250px</span><span class="p">;</span>
    <span class="nb">position</span><span class="o">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nb">width</span><span class="o">:</span> <span class="m">140px</span><span class="p">;</span>
    <span class="nb">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
    <span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span> <span class="m">10px</span> <span class="m">10px</span> <span class="m">10px</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span> <span class="m">10px</span> <span class="m">10px</span> <span class="m">10px</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span> <span class="m">10px</span> <span class="m">10px</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>(I have a fixed-width wrapper around everything including my tagcloud, so this positioning puts my sidebar just outside of the main content area)</p>
<p>Full list of settings and defaults (you can add these lines to pelicanconf.py and change whatever values you want. If they don't exist in pelicanconf.py the defaults will be used):</p>
<div class="highlight"><pre><span></span>TAG_CLOUD_STEPS=4 #number of different sizes of fonts in the tag cloud
TAG_CLOUD_MAX_ITEMS=100 #number of different tags that can appear in tag cloud
TAG_CLOUD_SORTING=&#39;size&#39; #how tags will be ordered in the tag cloud. Valid values: random, alphabetically, alphabetically-rev, size and size-rev
TAG_CLOUD_BADGE=True #If True, displays the number of articles in each tag
</pre></div>


<h1>Known issues</h1>
<p>If you have overlap in the tags used between the two categories, the page for that tag will give the tag cloud for whatever the first article on the page is for that tag.</p>
<p>Since I used the same names as for the basic tag cloud plugin, this is not compatible with the base tag cloud.</p>
<p>If this somehow becomes popular, I might try to make this plugin a bit more official - giving it a unique name, adding some tests, and creating a tagcloud.html file that just gets included instead of copying and pasting the same code to two separate locations. So if you're using the plugin (or interested in it), let me know! Right now I only put in enough work to get it working for myself.</p><p><a href="http://tommyblanchard.com/unique-tag-cloud-for-each-category-in-pelican#disqus_thread">comments</a></p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <ol id="posts-list" class="hfeed">
            <li><article class="hentry">
                <header>
                    <h1><a href="http://tommyblanchard.com/this-website" rel="bookmark"
                           title="Permalink to This Website">This Website</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Wed 18 January 2017</span>
<span>| tags: <a href="http://tommyblanchard.com/tag/pelican">Pelican</a>, <a href="http://tommyblanchard.com/tag/python">Python</a>, <a href="http://tommyblanchard.com/tag/static-site-generators">Static site generators</a></span>
</footer><!-- /.post-info -->                <p>I felt it was fitting to write the first "Project" article on this website, since it's the most recent little project I've been working on.</p>
<h3>Choosing a framework</h3>
<p>I was looking for a few things in a website: Something easily customizable, easily publishable, capable of blog feeds, and that could …</p>
                <a class="readmore" href="http://tommyblanchard.com/this-website">read more</a>
<p><a href="http://tommyblanchard.com/this-website#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
            </section><!-- /#content -->
        </section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://tommyblanchard.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/TommyCBlanchard">My Twitter</a></li>
                            <li><a href="https://github.com/TommyBlanchard">My Github</a></li>
                            <li><a href="https://www.linkedin.com/in/tommy-blanchard-131686126">My LinkedIn</a></li>
                            <li><a href="https://scholar.google.com/citations?user=uypwFKkAAAAJ&hl=en">My Google Scholar</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->


                    
        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36476378-2']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'tommyblanchard';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>